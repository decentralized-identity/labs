async function fetchPeople(){try{const e=await fetch("/data/directory.json");if(!e.ok)throw new Error(`Failed to fetch people data: ${e.statusText}`);return await e.json()}catch(e){return console.error("Error fetching people data:",e),alert("Failed to load people data. Please try again later."),null}}function populateGrid(e,t,n){const s=document.getElementById(t);if(!n||!n[e])return;s.innerHTML="",n[e].forEach(e=>{const t=document.createElement("div");t.className="avatar-card",t.innerHTML=`
            <img src="${e.img}" alt="${e.name}" 
                 onerror="this.style.display='none'; this.insertAdjacentHTML('afterend', \`
                 <span class='material-icons' style='font-size: 80px; color: #666;'>person</span>\`);">
            <h3>${e.name}</h3>
            <p>${e.role}</p>
        `,t.addEventListener("click",()=>openModal(e)),s.appendChild(t)})}function openModal(e){const s=document.getElementById("modalName"),o=document.getElementById("modalRole"),i=document.getElementById("modalOverlay"),a=document.getElementById("infoModal"),t=document.getElementById("modalProfileLink"),n=document.getElementById("modalImg");s.innerText=e.name||"No name available",o.innerText=e.role||"No role specified",e.img?(n.src=e.img,n.style.display="block"):n.style.display="none",e.profile_url?(t.href=e.profile_url,t.style.display="inline"):t.style.display="none",i.style.display="block",a.style.display="block"}function closeModal(){const e=document.getElementById("modalOverlay"),t=document.getElementById("infoModal");e.style.display="none",t.style.display="none"}function filterAvatars(){const e=document.getElementById("searchInput").value.toLowerCase();document.querySelectorAll(".avatar-card").forEach(t=>{const n=t.innerText.toLowerCase();t.style.display=n.includes(e)?"block":"none"})}(async function(){const t=await fetchPeople();t&&(populateGrid("mentors","mentors-grid",t),populateGrid("chairs","chairs-grid",t),populateGrid("leads","leads-grid",t))})()